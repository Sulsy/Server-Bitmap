# cscs
Спецификация

Команды

clear display: color == 0x01(byte)<color>
Пример 0x01 0x02 0x03 0x03

Параметры будут передаваться в таком порядке: Старший байт затем младший. 
Расположение элементов команды в массиве байт
0 — код команды
1 — цвет, R значение
2 — цвет, G значение
3 — цвет, B значение

(0x01(0x01 0x02 0x04)// clear display    color

Очистка экрана с заменой цвета дисплея на заданный

draw pixel: x0, y0, color == 0x02(byte);<Параметры 1><Параметры 2><color>

Параметры будут передаваться в таком порядке: Старший байт затем младший. 
Расположение элементов команды в массиве байт 
0 — код команды
1 — Старший байт, значение x координаты точки (1 параметр)
2 — Младший байт, значение x координаты точки (1 параметр)
3 — Старший байт, значение y координаты точки (2 параметр)
4 — Младший байт, значение y координаты точки (2 параметр)
5 — цвет, R значение
6 — цвет, G значение
7 — цвет, B значение

(0x02)(0x00 0x64) (0x00 0xc8) (0x01 0x01 0x04)//draw pixel 100 200 color

Окрасить конкретный пиксель по координатам х и у в  цвет указанный в rgb565

draw line: x0, y0, x1, y1, color == 0x03(byte)<Параметры 1 1><Параметры 1 2>
<Параметры 2 1><Параметры 2 2><color>

Параметры будут передаваться в таком порядке: Старший байт затем младший. 
Расположение элементов команды в массиве байт 
0 — код команды
1 — Старший байт, значение x координаты 1 точки (1 параметр)
2 — Младший байт, значение x координаты 1 точки (1 параметр)
3 — Старший байт, значение y координаты 1 точки (2 параметр)
4 — Младший байт, значение y координаты 1 точки (2 параметр)
5 — Старший байт, значение x координаты 2 точки (3 параметр)
 6 — Младший байт, значение x координаты 2 точки (3 параметр) 
7 — Старший байт, значение y координаты 2 точки (4 параметр)
8 — Младший байт, значение y координаты 2 точки (4 параметр) 
9 — цвет, R значение
10 — цвет, G значение
11— цвет, B значение

(0x03)(0x00 0x64) (0x00 0xc8) (0x00 0x64) (0x00 0xc8) (0x01 0x01 0x04)//draw line 100 200 100 200  color


Нарисовать линию из точки х0 у0 в х1 у1 с цветом указанномв rgb565

draw rectangle: x0,y0, w, h, color == 0x04(byte)<Параметры 1 1><Параметры 1 2> <Параметры 2 1><Параметры 2 2><color>

Параметры будут передаваться в таком порядке: Старший байт затем младший. 
Расположение элементов команды в массиве байт 
0 — код команды
1 — Старший байт, значение x координаты 1 точки (1 параметр)
2 — Младший байт, значение x координаты 1 точки (1 параметр)
3 — Старший байт, значение y координаты 1 точки (2 параметр)
4 — Младший байт, значение y координаты 1 точки (2 параметр)
5 — Старший байт, значение x координаты 2 точки (3 параметр)
 6 — Младший байт, значение x координаты 2 точки (3 параметр) 
7 — Старший байт, значение y координаты 2 точки (4 параметр)
8 — Младший байт, значение y координаты 2 точки (4 параметр) 
9 — цвет, R значение
10 — цвет, G значение
11— цвет, B значение

(0x04)(0x00 0x64) (0x00 0xc8) (0x00 0x64) (0x00 0xc8) (0x01 0x01 0x04)// draw rectangle 100 200 100 200  color

Нарисовать квадрат из точки х0 у0 с указанием высоты и ширины от данных координат с цветом указанном в rgb565

fill rectangle: x0, y0, w, h, color ==0x05(byte)<Параметры 1 1><Параметры 1 2> <Параметры 2 1><Параметры 2 2><color>

Параметры будут передаваться в таком порядке: Старший байт затем младший. 
Расположение элементов команды в массиве байт 
0 — код команды
1 — Старший байт, значение x координаты 1 точки (1 параметр)
2 — Младший байт, значение x координаты 1 точки (1 параметр)
3 — Старший байт, значение y координаты 1 точки (2 параметр)
4 — Младший байт, значение y координаты 1 точки (2 параметр)
5 — Старший байт, значение x координаты 2 точки (3 параметр)
 6 — Младший байт, значение x координаты 2 точки (3 параметр) 
7 — Старший байт, значение y координаты 2 точки (4 параметр)
8 — Младший байт, значение y координаты 2 точки (4 параметр) 
9 — цвет, R значение
10 — цвет, G значение
11— цвет, B значение

(0x05)(0x00 0x64) (0x00 0xc8) (0x00 0x64) (0x00 0xc8) (0x01 0x01 0x04)// fill rectangle 100 200 100 200  color

Нарисовать квадрат из точки х0 у0 с указанием высоты и ширины от данных координат с цветом указанном в rgb565 с полной заливкой всего содержимого квадрата

draw ellipse: x0, y0, radius_x, radius_y, color == 0x06(byte)<Параметры 1 1><Параметры 1 2><Параметры 2 1><Параметры 2 2><color>

Параметры будут передаваться в таком порядке: Старший байт затем младший. 
Расположение элементов команды в массиве байт 
0 — код команды
1 — Старший байт, значение x координаты 1 точки (1 параметр)
2 — Младший байт, значение x координаты 1 точки (1 параметр)
3 — Старший байт, значение y координаты 1 точки (2 параметр)
4 — Младший байт, значение y координаты 1 точки (2 параметр)
5 — Старший байт, значение x координаты 2 точки (3 параметр)
 6 — Младший байт, значение x координаты 2 точки (3 параметр) 
7 — Старший байт, значение y координаты 2 точки (4 параметр)
8 — Младший байт, значение y координаты 2 точки (4 параметр) 
9 — цвет, R значение
10 — цвет, G значение
11— цвет, B значение

(0x05)(0x00 0x64) (0x00 0xc8) (0x00 0x64) (0x00 0xc8) (0x01 0x01 0x04)// draw ellipse 100 200 100 200  color

Нарисовать елипс из точки х0 у0 с указанием радиуса по осям и цветом указанном в rgb565


fill ellipse: x0, y0, radius_x, radius_y, color == 0x07(byte)<Параметры 1 1><Параметры 1 2> <Параметры 2 1><Параметры 2 2><color>

Параметры будут передаваться в таком порядке: Старший байт затем младший. 
Расположение элементов команды в массиве байт 
0 — код команды
1 — Старший байт, значение x координаты 1 точки (1 параметр)
2 — Младший байт, значение x координаты 1 точки (1 параметр)
3 — Старший байт, значение y координаты 1 точки (2 параметр)
4 — Младший байт, значение y координаты 1 точки (2 параметр)
5 — Старший байт, значение x координаты 2 точки (3 параметр)
 6 — Младший байт, значение x координаты 2 точки (3 параметр) 
7 — Старший байт, значение y координаты 2 точки (4 параметр)
8 — Младший байт, значение y координаты 2 точки (4 параметр) 
9 — цвет, R значение
10 — цвет, G значение
11— цвет, B значение

(0x06)(0x00 0x64) (0x00 0xc8) (0x00 0x64) (0x00 0xc8) (0x01 0x01 0x04)// fill ellipse 100 200 100 200  color

Нарисовать елипс из точки х0 у0 с указанием радиуса по осям с цветом указанном в rgb565 с полной заливкой всего содержимого квадрата

Параметры:
x0, x1, y0, y1 -- int16
w, h -- int16
radius, radius_x, radius_y -- int16
color -- RGB888(24 bits)
Максимальное значение для параметров координат 200


Соединение

Клиент С++ с протоколом UDP
Сервер C# с протоколом UDP

Обработка

Клиент получает команду от пользователя
Конвертирует указанный цвет (если этого требует команда) в  rgb888  и посылает на сервер
При получении команды первый байт заполняется соответственно условной логики. Остальные байты ковертируются из инт 16 в байты.

Сервер при получении масива байт по UDP передает масив байтов в функцию BmpDetected
Где с помощью свич-кейсовой условной логики происходит проверка на совпадении 1 байта массива пришедших на сервер с командами спецификации.
Если найдено совпадение проверяется корректность введенных параметров и в случае успеха на консоль сервера выводится название заданной команды и её параметры
BmpDetected Уже в зависимости от команды передает в одну из функций
(clear display, draw pixel, draw rectangle, fill rectangle, draw ellipse, fill ellipse)

Функции

BmpDetected= Тип данных войд, принимает стринговый елемент
Через условную логику проверяет содержимое переданного параметра функции

В качестве Библиотеки для визуализации bmp System.Drawing








